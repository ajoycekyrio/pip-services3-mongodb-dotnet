<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pip-Services-MongoDb-Dotnet: PipServices.MongoDb.Persistence.MongoDbPersistence&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pip-Services-MongoDb-Dotnet
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_pip_services.html">PipServices</a></li><li class="navelem"><a class="el" href="namespace_pip_services_1_1_mongo_db.html">MongoDb</a></li><li class="navelem"><a class="el" href="namespace_pip_services_1_1_mongo_db_1_1_persistence.html">Persistence</a></li><li class="navelem"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">MongoDbPersistence</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PipServices.MongoDb.Persistence.MongoDbPersistence&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract persistence component that stores data in MongoDB and is based using Mongoose object relational mapping.  
 <a href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PipServices.MongoDb.Persistence.MongoDbPersistence&lt; T &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.png" usemap="#PipServices.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map" alt=""/>
  <map id="PipServices.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map" name="PipServices.MongoDb.Persistence.MongoDbPersistence_3C_20T_20_3E_map">
<area href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_identifiable_mongo_db_persistence.html" title="Abstract persistence component that stores data in MongoDB and implements a number of CRUD operations..." alt="PipServices.MongoDb.Persistence.IdentifiableMongoDbPersistence&lt; T, K &gt;" shape="rect" coords="679,112,1122,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d936be59769786113af0598931742da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a1d936be59769786113af0598931742da">MongoDbPersistence</a> (string collectionName)</td></tr>
<tr class="memdesc:a1d936be59769786113af0598931742da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new instance of the persistence component.  <a href="#a1d936be59769786113af0598931742da">More...</a><br /></td></tr>
<tr class="separator:a1d936be59769786113af0598931742da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e51cee85dcfbe479a7447a5424d9aff"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a6e51cee85dcfbe479a7447a5424d9aff">SetReferences</a> (IReferences references)</td></tr>
<tr class="memdesc:a6e51cee85dcfbe479a7447a5424d9aff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets references to dependent components.  <a href="#a6e51cee85dcfbe479a7447a5424d9aff">More...</a><br /></td></tr>
<tr class="separator:a6e51cee85dcfbe479a7447a5424d9aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa485cb689606e7cc34a4e0eb96b996"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a6fa485cb689606e7cc34a4e0eb96b996">Configure</a> (ConfigParams config)</td></tr>
<tr class="memdesc:a6fa485cb689606e7cc34a4e0eb96b996"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures component by passing configuration parameters.  <a href="#a6fa485cb689606e7cc34a4e0eb96b996">More...</a><br /></td></tr>
<tr class="separator:a6fa485cb689606e7cc34a4e0eb96b996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad777547d62df6db9d19a1c01469d1932"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ad777547d62df6db9d19a1c01469d1932">IsOpen</a> ()</td></tr>
<tr class="memdesc:ad777547d62df6db9d19a1c01469d1932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the component is opened.  <a href="#ad777547d62df6db9d19a1c01469d1932">More...</a><br /></td></tr>
<tr class="separator:ad777547d62df6db9d19a1c01469d1932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4848b73ea89edff8c7f2788c9f50bb06"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a4848b73ea89edff8c7f2788c9f50bb06">OpenAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:a4848b73ea89edff8c7f2788c9f50bb06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the component.  <a href="#a4848b73ea89edff8c7f2788c9f50bb06">More...</a><br /></td></tr>
<tr class="separator:a4848b73ea89edff8c7f2788c9f50bb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1cd7ee1c92ab991c144e9d268c2904"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#abb1cd7ee1c92ab991c144e9d268c2904">OpenAsync</a> (string correlationId, ConnectionParams connection, CredentialParams credential)</td></tr>
<tr class="memdesc:abb1cd7ee1c92ab991c144e9d268c2904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the component.  <a href="#abb1cd7ee1c92ab991c144e9d268c2904">More...</a><br /></td></tr>
<tr class="separator:abb1cd7ee1c92ab991c144e9d268c2904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac435c143d94895880b8217867d846b2f"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#ac435c143d94895880b8217867d846b2f">CloseAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:ac435c143d94895880b8217867d846b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes component and frees used resources.  <a href="#ac435c143d94895880b8217867d846b2f">More...</a><br /></td></tr>
<tr class="separator:ac435c143d94895880b8217867d846b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747482ac2136e777644940ab4ce541bf"><td class="memItemLeft" align="right" valign="top">virtual async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a747482ac2136e777644940ab4ce541bf">ClearAsync</a> (string correlationId)</td></tr>
<tr class="memdesc:a747482ac2136e777644940ab4ce541bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears component state.  <a href="#a747482ac2136e777644940ab4ce541bf">More...</a><br /></td></tr>
<tr class="separator:a747482ac2136e777644940ab4ce541bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aead8cb4f6e5ecbc9058d99e61235a427"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aead8cb4f6e5ecbc9058d99e61235a427">_collectionName</a></td></tr>
<tr class="memdesc:aead8cb4f6e5ecbc9058d99e61235a427"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB colleciton name.  <a href="#aead8cb4f6e5ecbc9058d99e61235a427">More...</a><br /></td></tr>
<tr class="separator:aead8cb4f6e5ecbc9058d99e61235a427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff1dd5fef8ceb45abfc56d9fe38b60f"><td class="memItemLeft" align="right" valign="top">ConnectionResolver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a7ff1dd5fef8ceb45abfc56d9fe38b60f">_connectionResolver</a> = new ConnectionResolver()</td></tr>
<tr class="memdesc:a7ff1dd5fef8ceb45abfc56d9fe38b60f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection resolver.  <a href="#a7ff1dd5fef8ceb45abfc56d9fe38b60f">More...</a><br /></td></tr>
<tr class="separator:a7ff1dd5fef8ceb45abfc56d9fe38b60f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e03332ecc99e1f6c91afee3a857c284"><td class="memItemLeft" align="right" valign="top">CredentialResolver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a3e03332ecc99e1f6c91afee3a857c284">_credentialResolver</a> = new CredentialResolver()</td></tr>
<tr class="memdesc:a3e03332ecc99e1f6c91afee3a857c284"><td class="mdescLeft">&#160;</td><td class="mdescRight">The credential resolver.  <a href="#a3e03332ecc99e1f6c91afee3a857c284">More...</a><br /></td></tr>
<tr class="separator:a3e03332ecc99e1f6c91afee3a857c284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b9d74087f527870c0d341cb49bace2"><td class="memItemLeft" align="right" valign="top">ConfigParams&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a34b9d74087f527870c0d341cb49bace2">_options</a> = new ConfigParams()</td></tr>
<tr class="memdesc:a34b9d74087f527870c0d341cb49bace2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration options.  <a href="#a34b9d74087f527870c0d341cb49bace2">More...</a><br /></td></tr>
<tr class="separator:a34b9d74087f527870c0d341cb49bace2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0915baceea2f8735af430385945975"><td class="memItemLeft" align="right" valign="top">MongoClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a4a0915baceea2f8735af430385945975">_connection</a></td></tr>
<tr class="memdesc:a4a0915baceea2f8735af430385945975"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB connection object.  <a href="#a4a0915baceea2f8735af430385945975">More...</a><br /></td></tr>
<tr class="separator:a4a0915baceea2f8735af430385945975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf82474058f464ef2091eec6d96cd5e3"><td class="memItemLeft" align="right" valign="top">IMongoDatabase&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#aaf82474058f464ef2091eec6d96cd5e3">_database</a></td></tr>
<tr class="memdesc:aaf82474058f464ef2091eec6d96cd5e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB database.  <a href="#aaf82474058f464ef2091eec6d96cd5e3">More...</a><br /></td></tr>
<tr class="separator:aaf82474058f464ef2091eec6d96cd5e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560e2fe4f93dd92135d418945a46a896"><td class="memItemLeft" align="right" valign="top">IMongoCollection&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a560e2fe4f93dd92135d418945a46a896">_collection</a></td></tr>
<tr class="memdesc:a560e2fe4f93dd92135d418945a46a896"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MongoDB colleciton object.  <a href="#a560e2fe4f93dd92135d418945a46a896">More...</a><br /></td></tr>
<tr class="separator:a560e2fe4f93dd92135d418945a46a896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b751dced2982dd0274b4f16c4ac4ba"><td class="memItemLeft" align="right" valign="top">CompositeLogger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a85b751dced2982dd0274b4f16c4ac4ba">_logger</a> = new CompositeLogger()</td></tr>
<tr class="memdesc:a85b751dced2982dd0274b4f16c4ac4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger.  <a href="#a85b751dced2982dd0274b4f16c4ac4ba">More...</a><br /></td></tr>
<tr class="separator:a85b751dced2982dd0274b4f16c4ac4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abaa3ea786b49947b8d644c58d1f98115"><td class="memItemLeft" align="right" valign="top">ConfigParams&#160;</td><td class="memItemRight" valign="bottom"><b>_defaultConfig</b></td></tr>
<tr class="separator:abaa3ea786b49947b8d644c58d1f98115"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract persistence component that stores data in MongoDB and is based using Mongoose object relational mapping. </p>
<p>This is the most basic persistence component that is only able to store data items of any type.Specific CRUD operations over the data items must be implemented in child classes by accessing this._collection or this._model properties.</p>
<h3>Configuration parameters</h3>
<p>collection: (optional) MongoDB collection name connection(s): <br />
discovery_key: (optional) a key to retrieve the connection from IDiscovery host: host name or IP address port: port number (default: 27017) uri: resource URI or connection string with all parameters in it credential(s): <br />
store_key: (optional) a key to retrieve the credentials from ICredentialStore username: (optional) user name password: (optional) user password options: max_pool_size: (optional) maximum connection pool size (default: 2) keep_alive: (optional) enable connection keep alive (default: true) connect_timeout: (optional) connection timeout in milliseconds (default: 5 sec) auto_reconnect: (optional) enable auto reconnection (default: true) max_page_size: (optional) maximum page size (default: 100) debug: (optional) enable debug output (default: false).</p>
<h3>References</h3>
<ul>
<li>*:logger:*:*:1.0 (optional) ILogger components to pass log messages</li>
<li>*:discovery:*:*:1.0 (optional) IDiscovery services</li>
<li>*:credential-store:*:*:1.0 (optional) Credential stores to resolve credentials </li>
</ul>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>the class type</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyMongoDbPersistence: <a class="code" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a1d936be59769786113af0598931742da">MongoDbPersistence</a>&lt;MyData&gt; </div><div class="line">{</div><div class="line">    <span class="keyword">public</span> MyMongoDbPersistence()</div><div class="line">    {</div><div class="line">        base(<span class="stringliteral">&quot;mydata&quot;</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> MyData getByName(<span class="keywordtype">string</span> correlationId, <span class="keywordtype">string</span> name)</div><div class="line">    {</div><div class="line">        var builder = Builders&lt;BeaconV1&gt;.Filter;</div><div class="line">        var filter = builder.Eq(x =&gt; x.Name, name);</div><div class="line">        var result = await <a class="code" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a560e2fe4f93dd92135d418945a46a896">_collection</a>.Find(filter).FirstOrDefaultAsync();</div><div class="line">        <span class="keywordflow">return</span> result;</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> MyData <span class="keyword">set</span>(String correlatonId, MyData item)</div><div class="line">    {</div><div class="line">        var filter = Builders&lt;T&gt;.Filter.Eq(x =&gt; x.Id, item.Id);</div><div class="line">        var options = <span class="keyword">new</span> FindOneAndReplaceOptions&lt;T&gt;</div><div class="line">        {</div><div class="line">            ReturnDocument = ReturnDocument.After,</div><div class="line">            IsUpsert = <span class="keyword">true</span></div><div class="line">        };</div><div class="line">        var result = await <a class="code" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html#a560e2fe4f93dd92135d418945a46a896">_collection</a>.FindOneAndReplaceAsync(filter, item, options);</div><div class="line">        <span class="keywordflow">return</span> result;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">var persistence = <span class="keyword">new</span> MyMongoDbPersistence();</div><div class="line">persistence.Configure(ConfigParams.fromTuples(</div><div class="line"><span class="stringliteral">&quot;host&quot;</span>, <span class="stringliteral">&quot;localhost&quot;</span>,</div><div class="line"><span class="stringliteral">&quot;port&quot;</span>, 27017 ));</div><div class="line"></div><div class="line">persitence.Open(<span class="stringliteral">&quot;123&quot;</span>);</div><div class="line">var mydata = <span class="keyword">new</span> MyData(<span class="stringliteral">&quot;ABC&quot;</span>);</div><div class="line">persistence.Set(<span class="stringliteral">&quot;123&quot;</span>, mydata);</div><div class="line">persistence.GetByName(<span class="stringliteral">&quot;123&quot;</span>, <span class="stringliteral">&quot;ABC&quot;</span>);</div><div class="line">Console.Out.WriteLine(item);                   <span class="comment">// Result: { name: &quot;ABC&quot; }</span></div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1d936be59769786113af0598931742da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d936be59769786113af0598931742da">&#9670;&nbsp;</a></span>MongoDbPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.<a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">MongoDbPersistence</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>collectionName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new instance of the persistence component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">collectionName</td><td>(optional) a collection name.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a747482ac2136e777644940ab4ce541bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747482ac2136e777644940ab4ce541bf">&#9670;&nbsp;</a></span>ClearAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.ClearAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears component state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac435c143d94895880b8217867d846b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac435c143d94895880b8217867d846b2f">&#9670;&nbsp;</a></span>CloseAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.CloseAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes component and frees used resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6fa485cb689606e7cc34a4e0eb96b996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa485cb689606e7cc34a4e0eb96b996">&#9670;&nbsp;</a></span>Configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.Configure </td>
          <td>(</td>
          <td class="paramtype">ConfigParams&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures component by passing configuration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>configuration parameters to be set.</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_identifiable_mongo_db_persistence.html#a054439ae4db6b0ea3634128ad7da4b7e">PipServices.MongoDb.Persistence.IdentifiableMongoDbPersistence&lt; T, K &gt;</a>.</p>

</div>
</div>
<a id="ad777547d62df6db9d19a1c01469d1932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad777547d62df6db9d19a1c01469d1932">&#9670;&nbsp;</a></span>IsOpen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.IsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the component is opened. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the component has been opened and false otherwise.</dd></dl>

</div>
</div>
<a id="a4848b73ea89edff8c7f2788c9f50bb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4848b73ea89edff8c7f2788c9f50bb06">&#9670;&nbsp;</a></span>OpenAsync() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual async Task <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.OpenAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb1cd7ee1c92ab991c144e9d268c2904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb1cd7ee1c92ab991c144e9d268c2904">&#9670;&nbsp;</a></span>OpenAsync() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.OpenAsync </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConnectionParams&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CredentialParams&#160;</td>
          <td class="paramname"><em>credential</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">correlationId</td><td>(optional) transaction id to trace execution through call chain.</td></tr>
    <tr><td class="paramname">connection</td><td>connection parameters.</td></tr>
    <tr><td class="paramname">credential</td><td>credential parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a6e51cee85dcfbe479a7447a5424d9aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e51cee85dcfbe479a7447a5424d9aff">&#9670;&nbsp;</a></span>SetReferences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;.SetReferences </td>
          <td>(</td>
          <td class="paramtype">IReferences&#160;</td>
          <td class="paramname"><em>references</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets references to dependent components. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">references</td><td>references to locate the component dependencies.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a560e2fe4f93dd92135d418945a46a896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560e2fe4f93dd92135d418945a46a896">&#9670;&nbsp;</a></span>_collection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IMongoCollection&lt;T&gt; <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._collection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB colleciton object. </p>

</div>
</div>
<a id="aead8cb4f6e5ecbc9058d99e61235a427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead8cb4f6e5ecbc9058d99e61235a427">&#9670;&nbsp;</a></span>_collectionName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._collectionName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB colleciton name. </p>

</div>
</div>
<a id="a4a0915baceea2f8735af430385945975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0915baceea2f8735af430385945975">&#9670;&nbsp;</a></span>_connection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MongoClient <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB connection object. </p>

</div>
</div>
<a id="a7ff1dd5fef8ceb45abfc56d9fe38b60f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff1dd5fef8ceb45abfc56d9fe38b60f">&#9670;&nbsp;</a></span>_connectionResolver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionResolver <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._connectionResolver = new ConnectionResolver()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The connection resolver. </p>

</div>
</div>
<a id="a3e03332ecc99e1f6c91afee3a857c284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e03332ecc99e1f6c91afee3a857c284">&#9670;&nbsp;</a></span>_credentialResolver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CredentialResolver <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._credentialResolver = new CredentialResolver()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The credential resolver. </p>

</div>
</div>
<a id="aaf82474058f464ef2091eec6d96cd5e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf82474058f464ef2091eec6d96cd5e3">&#9670;&nbsp;</a></span>_database</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IMongoDatabase <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._database</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MongoDB database. </p>

</div>
</div>
<a id="abaa3ea786b49947b8d644c58d1f98115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa3ea786b49947b8d644c58d1f98115">&#9670;&nbsp;</a></span>_defaultConfig</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParams <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._defaultConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= ConfigParams.FromTuples(</div><div class="line">            </div><div class="line">            </div><div class="line">            </div><div class="line">            </div><div class="line"></div><div class="line">            <span class="stringliteral">&quot;options.poll_size&quot;</span>, 4,</div><div class="line">            <span class="stringliteral">&quot;options.keep_alive&quot;</span>, 1,</div><div class="line">            <span class="stringliteral">&quot;options.connect_timeout&quot;</span>, 5000,</div><div class="line">            <span class="stringliteral">&quot;options.auto_reconnect&quot;</span>, <span class="keyword">true</span>,</div><div class="line">            <span class="stringliteral">&quot;options.max_page_size&quot;</span>, 100,</div><div class="line">            <span class="stringliteral">&quot;options.debug&quot;</span>, <span class="keyword">true</span></div><div class="line">        )</div></div><!-- fragment -->
</div>
</div>
<a id="a85b751dced2982dd0274b4f16c4ac4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b751dced2982dd0274b4f16c4ac4ba">&#9670;&nbsp;</a></span>_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CompositeLogger <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._logger = new CompositeLogger()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The logger. </p>

</div>
</div>
<a id="a34b9d74087f527870c0d341cb49bace2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b9d74087f527870c0d341cb49bace2">&#9670;&nbsp;</a></span>_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParams <a class="el" href="class_pip_services_1_1_mongo_db_1_1_persistence_1_1_mongo_db_persistence.html">PipServices.MongoDb.Persistence.MongoDbPersistence</a>&lt; T &gt;._options = new ConfigParams()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The configuration options. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Persistence/MongoDbPersistence.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
